# By using this file, you agree to the terms and conditions set
# forth in the COPYING file which can be found at the top level
# of this distribution.
#
TARGETS=fpver fpstat fpdump fpins  fploc

all: $(TARGETS)

test: $(TARGETS)
	@echo --- Verifying snippet...
	./fpver snippet	
	@echo --- Stat the victim
	cp /bin/bash .
	./fpstat bash
	@echo --- Disassemble snippet
	./fpdump snippet
	@echo --- Insert snippet into file
	./fpins snippet bash
	@echo --- Locate, disassemble, optimize and dump snippet from infected file
	./fploc bash

.c:
	gcc -O2 -Wall $< mlde32.o -o $@

clean:
	-@rm -f $(TARGETS) bash
